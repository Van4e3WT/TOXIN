include ~Blocks/twin-datepick/twin-datepick.pug
include ~Blocks/dropdown-absolute/dropdown-absolute.pug
include ~Blocks/tooltip/tooltip.pug
include ~Blocks/button/button.pug

mixin total-card(props)
  -
    const {
      number,
      isLux,
      cost,
      days = 1,
      daysForm = 'сутки',
      twinDatepick,
      dropdownAbsolute,
      positions = [],
      button,
    } = props;

  .total-card
    .total-card__header
      .total-card__room-number
        label.total-card__prefix №
        h1.total-card__number=number
        if isLux
          label.room-number__lux люкс
      .total-card__room-cost
        label.total-card__rubles=`${cost}₽`
        p.total-card__period в сутки
    .total-card__body
      .total-card__input
        -
          const {
            defaultValue = 'date dropdown',
            field1 = defaultValue,
            field2 = defaultValue,
          } = twinDatepick;

        +twin-datepick(field1, field2)
      label.total-card__label Гости
      .total-card__input
        +dropdown-absolute(dropdownAbsolute)
      .total-card__calculate
        .total-card__product
          .total-card__position
            span.total-card__cost=`${cost}₽`
            span.total-card__split &nbsp;x&nbsp;
            span.total-card__peroid=`${days} ${daysForm}`
          p.total-card__period-cost=`${cost * days}₽`
        each position in positions
          .total-card__product
            .total-card__position.total-card__position_service
              span.total-card__cost=position.content
              +tooltip(position.tooltip)
            p.total-card__period-cost=`${position.cost}₽`
    .total-card__total
      h2.total-card__result Итого
      .total-card__space
      h2.total-card__cost 38081₽
    +button(button)